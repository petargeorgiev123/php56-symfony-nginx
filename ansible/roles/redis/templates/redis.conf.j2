# General
daemonize yes
pidfile /var/run/redis/redis.pid
dir /opt/redis
port {{redis_port}}
bind 0.0.0.0
timeout 0
tcp-keepalive 0
tcp-backlog 511
loglevel "notice"
logfile '""'
syslog-enabled "yes"
syslog-ident redis_6379
syslog-facility USER
databases 16

# Snapshotting
save 900 1
save 60 1000
stop-writes-on-bgsave-error yes
rdbcompression yes
rdbchecksum yes
dbfilename dump.rdb

# Limits
maxclients 1000
maxmemory 2gb
maxmemory-policy allkeys-lru

# Append Only Mode
appendonly "no"
appendfilename "appendonly.aof"
appendfsync "everysec"
no-appendfsync-on-rewrite "no"
auto-aof-rewrite-percentage "100"
auto-aof-rewrite-min-size "64mb"
